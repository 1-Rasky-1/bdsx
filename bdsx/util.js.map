{"version":3,"file":"util.js","sourceRoot":"","sources":["../../bdsx-lib/util.ts"],"names":[],"mappings":"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"}